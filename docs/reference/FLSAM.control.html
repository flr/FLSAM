<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>FLSAM.control
 — FLSAM.control • FLSAM</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">FLSAM</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="http://github.com/flr/FLSAM">
    <span class="fa fa-github fa-lg"></span>
     
    Source
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://flr-project.org/">FLR</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>FLSAM.control
</h1>
    </div>

    
    <p>Creates an FLSAM.control that can be used to control an FLSAM assessment</p>
    

    <pre><span class='fu'>FLSAM.control</span>(<span class='no'>stck</span>, <span class='no'>tun</span>, <span class='kw'>default</span><span class='kw'>=</span><span class='st'>"full"</span>,<span class='kw'>sam.binary</span><span class='kw'>=</span><span class='st'>"missing"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>stck</dt>
      <dd>An <code><a href='http://www.rdocumentation.org/packages/FLCore/topics/FLStock'>FLStock</a></code> object
</dd>
      <dt>tun</dt>
      <dd>An <code><a href='http://www.rdocumentation.org/packages/FLCore/topics/FLIndices'>FLIndices</a></code> object
</dd>
      <dt>default</dt>
      <dd>Specifies how the control object should be populated. Default option is &quot;full&quot;, which takes a reasonable first guess at a configuration. Any other value will populate all matrices with NA values.
</dd>
      <dt>sam.binary</dt>
      <dd>Path and name of the SAM executable file to run
</dd>
    </dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>An <code><a href='FLSAM.html'>FLSAM</a></code> assessment requires three elements - an <code><a href='http://www.rdocumentation.org/packages/FLCore/topics/FLStock'>FLStock</a></code> object, an <code><a href='http://www.rdocumentation.org/packages/FLCore/topics/FLIndices'>FLIndices</a></code> object and an <code>FLSAM.control</code> object. The FLSAM.control object contains the configuration options for the model, and is therefore key to the process. However, there are a great many configuration options and therefore setting up the control object is a relatively complex process. The purpose of the FLSAM.control function is to create a template (possibly containing sensible first guesses at a configuration) object that can then be populated by the user according to their wishes.</p>
    <p>The key concept with the configuration of a SAM model is that some parameters are bound together, so that the model fits just a single parameter, but uses it in multiple places e.g. by using a single parameter for the catchabilites of ages 5-9 in a survey. We refer to this concept as &quot;binding&quot; the parameters together.</p>
    <p>Bindings are expressed in a matrix format in the FLSAM.control object. The rows of the matrix correspond to the fleets, whilst the column correspond to the ages - it is important to remember that while all age-fleet combinations are represented here, not all are valid i.e. a fleet may not contain information on all ages. Bindings are specified with integers - the integers indicate which parameter should be used in the specific fleet-age context represented by that point in the matrix. Repeating a number means that all those fleet-age combinations with the same number will be fitted with just one parameter i.e. bound together. Parameters that are not to be fitted, or are turned off, are specified by setting the value to NA.</p>
    <p>FLSAM.control can populate the template in two different ways, as indicated by the &quot;default&quot; argument. If default=&quot;full&quot;, a reasonable first guess at a configuration is supplied - this consists of linear catchability models for the surveys and a fixed selectivity pattern in the fishery. Alternatively, if &quot;default&quot; is set to any other value, all values are set to NA and therefore turned &quot;off&quot;.</p>
    <p>Earlier versions of FLSAM contained the executable (binary) file within the package distribution. However, this version is designed to interface with customised versions of the sam model, which can be modified and compiled locally. The sam.binary slot in the FLSAM.control object can be used to specify the location of this executable file. If the file is not specified, FLSAM reverts to the versions stored within the package - however, in the future, these binaries may be removed.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns an FLSAM.control object with the following slots</p>
    
    <h2 class="hasAnchor" id="warning-"><a class="anchor" href="#warning-"></a>Warning </h2>

    <p>It is important to realise that the default configuration returned by FLSAM.control is almost certaintly not the best configuration of your model - it is merely a first guess setup for your convenience. Similarly, there is no guarantee that this model will lead to a converged solution. It is the users responsibility to find the most appropriate &quot;best&quot; configuration of the model.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='FLSAM.html'>FLSAM</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#Load data</span>
<span class='fu'>library</span>(<span class='no'>FLSAM</span>)
<span class='fu'>data</span>(<span class='no'>NSH</span>)
<span class='co'>#Create an object</span>
<span class='no'>ctrl</span> <span class='kw'>&lt;-</span> <span class='fu'>FLSAM.control</span>(<span class='no'>NSH</span>,<span class='no'>NSH.tun</span>)
<span class='no'>ctrl</span></div><div class='output co'>#&gt; An object of class &quot;FLSAM.control&quot;
#&gt; Slot &quot;name&quot;:
#&gt; character(0)
#&gt; 
#&gt; Slot &quot;desc&quot;:
#&gt; character(0)
#&gt; 
#&gt; Slot &quot;range&quot;:
#&gt;       min       max plusgroup   minyear   maxyear   minfbar   maxfbar 
#&gt;         0         8         8      1992      2012         2         6 
#&gt; 
#&gt; Slot &quot;fleets&quot;:
#&gt;   catch    SCAI   HERAS IBTS-Q1   IBTS0 
#&gt;       0       3       2       2       2 
#&gt; 
#&gt; Slot &quot;plus.group&quot;:
#&gt; plusgroup 
#&gt;      TRUE 
#&gt; 
#&gt; Slot &quot;states&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    1  1  1  1  1  1  1  1  1
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;logN.vars&quot;:
#&gt; 0 1 2 3 4 5 6 7 8 
#&gt; 1 1 1 1 1 1 1 1 1 
#&gt; 
#&gt; Slot &quot;catchabilities&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch   NA NA NA NA NA NA NA NA NA
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA  1  2  3  4  5  6  7  8
#&gt;   IBTS-Q1 NA  9 NA NA NA NA NA NA NA
#&gt;   IBTS0   10 NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;power.law.exps&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch   NA NA NA NA NA NA NA NA NA
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;f.vars&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    1  1  1  1  1  1  1  1  1
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;obs.vars&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    1  2  3  4  5  6  7  8  9
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA 10 11 12 13 14 15 16 17
#&gt;   IBTS-Q1 NA 18 NA NA NA NA NA NA NA
#&gt;   IBTS0   19 NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;srr&quot;:
#&gt; [1] 0
#&gt; 
#&gt; Slot &quot;cor.F&quot;:
#&gt; [1] FALSE
#&gt; 
#&gt; Slot &quot;nohess&quot;:
#&gt; [1] FALSE
#&gt; 
#&gt; Slot &quot;timeout&quot;:
#&gt; [1] 3600
#&gt; 
#&gt; Slot &quot;sam.binary&quot;:
#&gt; character(0)
#&gt; </div><div class='input'><span class='co'>#Bind HERAS catchabilities on ages 5:8</span>
<span class='no'>ctrl</span>@<span class='kw'>catchabilities</span>[<span class='st'>"HERAS"</span>,<span class='fu'>as.character</span>(<span class='fl'>5</span>:<span class='fl'>8</span>)] <span class='kw'>&lt;-</span> <span class='fl'>11</span>
<span class='co'>#Alternatively can also use update functionality</span>
<span class='no'>ctrl</span>@<span class='kw'>catchabilities</span>[<span class='st'>"HERAS"</span>,<span class='fu'>as.character</span>(<span class='fl'>5</span>:<span class='fl'>8</span>)] <span class='kw'>&lt;-</span> <span class='fl'>101</span>
<span class='no'>ctrl</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='FLSAM.html'>update</a></span>(<span class='no'>ctrl</span>)
<span class='co'>#See example of full control object</span>
<span class='fu'>data</span>(<span class='no'>NSH.sam</span>)
<span class='no'>NSH.ctrl</span></div><div class='output co'>#&gt; An object of class &quot;FLSAM.control&quot;
#&gt; Slot &quot;name&quot;:
#&gt; [1] &quot;Final Assessment&quot;
#&gt; 
#&gt; Slot &quot;desc&quot;:
#&gt; character(0)
#&gt; 
#&gt; Slot &quot;range&quot;:
#&gt;       min       max plusgroup   minyear   maxyear   minfbar   maxfbar 
#&gt;         0         8         8      1992      2012         2         6 
#&gt; 
#&gt; Slot &quot;fleets&quot;:
#&gt;   catch    SCAI   HERAS IBTS-Q1   IBTS0 
#&gt;       0       3       2       2       2 
#&gt; 
#&gt; Slot &quot;plus.group&quot;:
#&gt; plusgroup 
#&gt;      TRUE 
#&gt; 
#&gt; Slot &quot;states&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    1  2  3  4  5  6  7  8  8
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;logN.vars&quot;:
#&gt; 0 1 2 3 4 5 6 7 8 
#&gt; 1 2 2 2 2 2 2 2 2 
#&gt; 
#&gt; Slot &quot;catchabilities&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch   NA NA NA NA NA NA NA NA NA
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA  3  3  4  4  5  5  5  5
#&gt;   IBTS-Q1 NA  1 NA NA NA NA NA NA NA
#&gt;   IBTS0    2 NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;power.law.exps&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch   NA NA NA NA NA NA NA NA NA
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;f.vars&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    1  1  2  2  3  3  4  4  4
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA NA NA NA NA NA NA NA NA
#&gt;   IBTS-Q1 NA NA NA NA NA NA NA NA NA
#&gt;   IBTS0   NA NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;obs.vars&quot;:
#&gt;          age
#&gt; fleet      0  1  2  3  4  5  6  7  8
#&gt;   catch    3  4  4  4  4  4  5  5  5
#&gt;   SCAI    NA NA NA NA NA NA NA NA NA
#&gt;   HERAS   NA  6  7  7  7  7  8  8  8
#&gt;   IBTS-Q1 NA  1 NA NA NA NA NA NA NA
#&gt;   IBTS0    2 NA NA NA NA NA NA NA NA
#&gt; 
#&gt; Slot &quot;srr&quot;:
#&gt; [1] 0
#&gt; 
#&gt; Slot &quot;cor.F&quot;:
#&gt; [1] FALSE
#&gt; 
#&gt; Slot &quot;nohess&quot;:
#&gt; [1] FALSE
#&gt; 
#&gt; Slot &quot;timeout&quot;:
#&gt; [1] 3600
#&gt; 
#&gt; Slot &quot;sam.binary&quot;:
#&gt; character(0)
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#warning-">Warning </a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Mark R. Payne and Niels Hintzen

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by M.R. Payne, N.T. Hintzen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
